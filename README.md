# Characterization of Thermal Effects on Sensorized e-Skins with Rayleigh Backscattering Optical Fiber

This repository contain supporting material for the paper: *Characterization of Thermal Effects on Sensorized e-Skins with
Rayleigh Backscattering Optical Fiber*, ensuring reproducibility and transparency of the full analysis pipeline.

------------------------------------------------------------------------

## Overview

This repository contains the analysis scripts used to characterize the
thermal response of distributed Rayleigh backscattering optical fibers
embedded in silicone e-skin patches.

The code supports the results presented in the paper, where we:

-   Quantify the linear dependence between Rayleigh time shift and
    temperature\
-   Extract the spatial profile of thermal sensitivity\
-   Demonstrate linear scaling of peak sensitivity with patch
    dimensions\
-   Evaluate inter-trial and inter-replica reproducibility\
-   Compare measurements with and without thermistor-based compensation

------------------------------------------------------------------------

## Repository Structure

    .
    ├── data/                               # Preprocessed experimental datasets
    ├── termistors_calibration_params.json
    ├── termistors_calibration_params_2.json
    ├── utils.py                            # Temperature reconstruction utilities
    ├── patch_characterization.py           # Script 1 – Thermal sensitivity estimation
    ├── join_plots.py                       # Script 2 – Spatial and reproducibility analysis
    └── README.md

------------------------------------------------------------------------

## Script 1 --- patch_characterization.py

This script estimates the thermal sensitivity of each Rayleigh channel
by fitting:

    signal = mT + q

### Input

Preprocessed `.npz` files containing:

-   time
-   V_temp, Vdd_temp
-   signal_rayl
-   corresponding standard deviations

Thermistor calibration parameters are loaded from JSON files.

### Processing Steps

1.  Convert thermistor voltages to temperature.
2.  Compute mean temperature from two calibrated thermistors.
3.  Bin temperature (continuous ramp or discrete steps).
4.  Perform weighted linear regression with propagated uncertainty.
5.  Extract:
    -   Slope m (µs/°C)
    -   Uncertainty dm
    -   Pearson correlation coefficient

### Output

-   Per-channel thermal sensitivity
-   Statistical indicators
-   Diagnostic plots
-   Optional `.npz` export for downstream spatial analysis

### Usage

Edit:

    filename = 'Replica1_Ramp2'

Then run:

    python patch_characterization.py

------------------------------------------------------------------------

## Script 2 --- join_plots.py

This script analyzes the spatial distribution of thermal sensitivity
across the fiber and compares different experimental conditions.

It loads outputs generated by `patch_characterization.py`:

    data/response_<filename>.npz

Each file contains:

-   channels
-   ms (thermal slopes)
-   dms

Channel indices are converted to physical position (mm).

------------------------------------------------------------------------

### Analysis Modes

Set:

    analisi = 1, 2, 3, or 4

#### Analisi 1 --- Size Scaling

-   Extract peak thermal sensitivity
-   Fit peak vs size factor (1×, 1.5×, 2×)
-   Perform χ² goodness-of-fit test

Demonstrates linear scaling with patch dimensions.

#### Analisi 2 --- With vs Without Thermistors

-   Compute spatial skewness of sensitivity distribution
-   Compare groups using Mann--Whitney U test

Evaluates symmetry effects and compensation influence.

#### Analisi 3 --- Trial Repeatability

-   Compare repeated heating cycles
-   Compute absolute and relative channel-wise differences
-   Separate patch and non-patch regions

Quantifies inter-trial variability (\~1%).

#### Analisi 4 --- Replica Reproducibility

-   Compare different replicas with identical geometry
-   Compute spatial deltas and histograms
-   Evaluate reproducibility across fabricated samples

------------------------------------------------------------------------

## Citation

If you use this repository or build upon this work, please cite:

Characterization of Thermal Effects on Sensorized e-Skins with Rayleigh
Backscattering Optical Fiber

(Full citation to be updated upon publication.)

------------------------------------------------------------------------

